{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Project\\\\Staygether\\\\New folder\\\\containers\\\\Signup.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"../components/Button\";\nimport FormTextInput from \"../components/FormTextInput\";\nimport avatar from \"../assets/images/avatar.png\";\nimport firebase from \"../containers/firebase.js\";\nimport * as ImagePicker from 'expo-image-picker';\nimport Constants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\n\nvar Signup = function (_React$Component) {\n  _inherits(Signup, _React$Component);\n\n  var _super = _createSuper(Signup);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _super.call(this, props);\n\n    _this.getPermissionAsync = function _callee() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!Constants.platform.ios) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 3:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                alert('Sorry, we need camera roll permissions to make this work!');\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee2() {\n      var result;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\n                allowsEditing: true,\n                aspect: [1, 1],\n                quality: 1\n              }));\n\n            case 3:\n              result = _context2.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result\n                });\n              }\n\n              console.log(result);\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    _this.state = {\n      email: \"\",\n      pass: \"\",\n      repass: \"\",\n      name: \"\",\n      age: \"\",\n      phone: \"\",\n      gender: \"nam\",\n      image: avatar\n    };\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      signUp = function signUp(email, pass, repass, name, age, phone, gender) {\n        var price = 0,\n            address = '',\n            describe = '',\n            require = '';\n        var temp = {\n          email: email,\n          name: name,\n          age: age,\n          phone: phone,\n          gender: gender,\n          price: price,\n          address: address,\n          describe: describe,\n          require: require\n        };\n\n        try {\n          upLoadImage(_this2.state.image.uri);\n          firebase.auth().createUserWithEmailAndPassword(email, pass).then(function () {\n            _this2.props.navigation.navigate('Uppost', temp);\n          }).catch(function (error) {\n            alert(error.message);\n          });\n        } catch (err) {\n          Alert.alert('Sign in Failed');\n        }\n      };\n\n      upLoadImage = function upLoadImage(uri) {\n        var res, blob, ref;\n        return _regeneratorRuntime.async(function upLoadImage$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _regeneratorRuntime.awrap(fetch(uri));\n\n              case 2:\n                res = _context3.sent;\n                _context3.next = 5;\n                return _regeneratorRuntime.awrap(res.blob());\n\n              case 5:\n                blob = _context3.sent;\n                ref = firebase.storage().ref().child(_this2.state.email);\n                return _context3.abrupt(\"return\", ref.put(blob));\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.avatarBtn,\n        onPress: this._pickImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: styles.avatarImg,\n        source: this.state.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }\n      }, \"\\u1EA2nh \\u0110\\u1EA1i Di\\u1EC7n\")), React.createElement(FormTextInput, {\n        value: this.state.email,\n        onChangeText: function onChangeText(email) {\n          return _this2.setState({\n            email: email\n          });\n        },\n        value: this.state.email,\n        placeholder: \"Email\",\n        keyboardType: \"email-address\",\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        secureTextEntry: true,\n        value: this.state.pass,\n        onChangeText: function onChangeText(pass) {\n          return _this2.setState({\n            pass: pass\n          });\n        },\n        value: this.state.pass,\n        placeholder: \"M\\u1EADt kh\\u1EA9u\",\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        secureTextEntry: true,\n        value: this.state.repassword,\n        onChangeText: function onChangeText(repass) {\n          return _this2.setState({\n            repass: repass\n          });\n        },\n        value: this.state.repass,\n        placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        value: this.state.name,\n        onChangeText: function onChangeText(name) {\n          return _this2.setState({\n            name: name\n          });\n        },\n        value: this.state.name,\n        placeholder: \"H\\u1ECD T\\xEAn\",\n        returnKeyType: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        value: this.state.age,\n        onChangeText: function onChangeText(age) {\n          return _this2.setState({\n            age: age\n          });\n        },\n        value: this.state.age,\n        placeholder: \"Tu\\u1ED5i\",\n        returnKeyType: \"next\",\n        keyboardType: \"number-pad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        value: this.state.phone,\n        onChangeText: function onChangeText(phone) {\n          return _this2.setState({\n            phone: phone\n          });\n        },\n        value: this.state.phone,\n        placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n        returnKeyType: \"next\",\n        keyboardType: \"phone-pad\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }\n      }, React.createElement(Picker, {\n        style: styles.picker,\n        selectedValue: this.state.gender,\n        onValueChange: function onValueChange(value, index) {\n          _this2.setState({\n            gender: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }\n      }, React.createElement(Picker.Item, {\n        label: \"Nam\",\n        value: \"Nam\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 29\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"N\\u1EEF\",\n        value: \"N\\u1EEF\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }))), React.createElement(Button, {\n        label: \"\\u0110\\u0102NG K\\xDD\",\n        onPress: function onPress() {\n          if (_this2.state.pass === _this2.state.repass) {\n            if (_this2.state.image !== avatar) {\n              signUp(_this2.state.email, _this2.state.pass, _this2.state.repass, _this2.state.name, _this2.state.age, _this2.state.phone, _this2.state.gender);\n            } else {\n              alert(\"Vui lòng thay ảnh đại diện\");\n            }\n          } else {\n            alert(\"Mật khẩu không trùng khớp\");\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, \"\\u0110\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n?\"), React.createElement(Button, {\n        label: \"\\u0110\\u0102NG NH\\u1EACP\",\n        style: styles.signup,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Login');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPermissionAsync();\n    }\n  }]);\n\n  return Signup;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  avatarBtn: {\n    width: 100,\n    height: 120,\n    alignSelf: \"center\",\n    marginBottom: 40\n  },\n  avatarImg: {\n    width: 100,\n    height: 100,\n    resizeMode: \"contain\",\n    alignSelf: \"center\"\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#FFF\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  form: {\n    flex: 1,\n    justifyContent: \"center\",\n    width: \"80%\",\n    marginTop: 0\n  },\n  text: {\n    textAlign: \"center\",\n    marginTop: 20,\n    marginBottom: 10\n  },\n  signup: {\n    backgroundColor: \"#FFF\",\n    borderColor: \"#7444C0\",\n    color: \"#7444C0\"\n  },\n  picker: {\n    height: 40,\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    marginBottom: 20\n  },\n  avatar: {\n    backgroundColor: \"#FFF\",\n    borderColor: \"#7444C0\",\n    color: \"#7444C0\"\n  }\n});\nexport default Signup;","map":{"version":3,"sources":["D:/Project/Staygether/New folder/containers/Signup.js"],"names":["React","Button","FormTextInput","avatar","firebase","ImagePicker","Constants","Permissions","TouchableOpacity","Signup","props","getPermissionAsync","platform","ios","askAsync","CAMERA_ROLL","status","alert","_pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","setState","image","console","log","state","email","pass","repass","name","age","phone","gender","signUp","price","address","describe","require","temp","upLoadImage","uri","auth","createUserWithEmailAndPassword","then","navigation","navigate","catch","error","message","err","Alert","fetch","res","blob","ref","storage","child","put","styles","container","form","avatarBtn","avatarImg","textAlign","repassword","picker","value","index","text","signup","Component","StyleSheet","create","width","height","alignSelf","marginBottom","resizeMode","flex","backgroundColor","alignItems","justifyContent","marginTop","borderColor","color","borderBottomWidth","hairlineWidth"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Image, StyleSheet, View, Text, Alert, Picker, SafeAreaView } from 'react-native';\r\nimport Button from \"../components/Button\";\r\nimport FormTextInput from \"../components/FormTextInput\";\r\nimport avatar from \"../assets/images/avatar.png\";\r\nimport firebase from \"../containers/firebase.js\";\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport Constants from 'expo-constants';\r\nimport * as Permissions from 'expo-permissions';\r\nimport { TouchableOpacity } from 'react-native-gesture-handler';\r\n\r\nclass Signup extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            pass: \"\",\r\n            repass: \"\",\r\n            name: \"\",\r\n            age: \"\",\r\n            phone: \"\",\r\n            gender: \"nam\",\r\n            image: avatar,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        signUp = (email, pass, repass, name, age, phone, gender) => {\r\n            var price = 0, address = '', describe = '', require = '';\r\n            let temp = {\r\n                email: email,\r\n                name: name,\r\n                age: age,\r\n                phone: phone,\r\n                gender: gender,\r\n                price: price,\r\n                address: address,\r\n                describe: describe,\r\n                require: require,\r\n            };\r\n            try {\r\n                upLoadImage(this.state.image.uri);\r\n                firebase.auth().createUserWithEmailAndPassword(email, pass).then(() => {\r\n                    this.props.navigation.navigate('Uppost', temp)\r\n                }).catch(error => {\r\n                    alert(error.message);\r\n                })\r\n            }\r\n            catch (err) {\r\n                Alert.alert('Sign in Failed')\r\n            }\r\n        }\r\n\r\n        upLoadImage = async (uri) => {\r\n            const res = await fetch(uri);\r\n            const blob = await res.blob();\r\n            var ref = firebase.storage().ref().child(this.state.email);\r\n            return ref.put(blob);\r\n        }\r\n\r\n        return (\r\n            <View style={styles.container}>\r\n                <View style={styles.form}>\r\n                    <TouchableOpacity style={styles.avatarBtn} onPress={this._pickImage}>\r\n                        <Image style={styles.avatarImg} source={this.state.image} />\r\n                        <Text style={{ textAlign: \"center\" }}>Ảnh Đại Diện</Text>\r\n                    </TouchableOpacity>\r\n                    <FormTextInput\r\n                        value={this.state.email}\r\n                        onChangeText={(email) => this.setState({ email })} value={this.state.email}\r\n                        placeholder=\"Email\"\r\n                        keyboardType=\"email-address\"\r\n                        returnKeyType=\"next\"\r\n                    />\r\n                    <FormTextInput\r\n                        secureTextEntry={true}\r\n                        value={this.state.pass}\r\n                        onChangeText={(pass) => this.setState({ pass })} value={this.state.pass}\r\n                        placeholder=\"Mật khẩu\"\r\n                        returnKeyType=\"next\"\r\n                    />\r\n                    <FormTextInput\r\n                        secureTextEntry={true}\r\n                        value={this.state.repassword}\r\n                        onChangeText={(repass) => this.setState({ repass })} value={this.state.repass}\r\n                        placeholder=\"Nhập lại mật khẩu\"\r\n                        returnKeyType=\"next\"\r\n                    />\r\n                    <FormTextInput\r\n                        value={this.state.name}\r\n                        onChangeText={(name) => this.setState({ name })} value={this.state.name}\r\n                        placeholder=\"Họ Tên\"\r\n                        returnKeyType=\"next\"\r\n                    />\r\n                    <FormTextInput\r\n                        value={this.state.age}\r\n                        onChangeText={(age) => this.setState({ age })} value={this.state.age}\r\n                        placeholder=\"Tuổi\"\r\n                        returnKeyType=\"next\"\r\n                        keyboardType=\"number-pad\"\r\n                    />\r\n                    <FormTextInput\r\n                        value={this.state.phone}\r\n                        onChangeText={(phone) => this.setState({ phone })} value={this.state.phone}\r\n                        placeholder=\"Số điện thoại\"\r\n                        returnKeyType=\"next\"\r\n                        keyboardType=\"phone-pad\"\r\n                    />\r\n                    <View>\r\n                        <Picker style={styles.picker}\r\n                            selectedValue={this.state.gender}\r\n                            onValueChange={(value, index) => {\r\n                                this.setState({ gender: value })\r\n                            }}>\r\n                            <Picker.Item label=\"Nam\" value=\"Nam\" />\r\n                            <Picker.Item label=\"Nữ\" value=\"Nữ\" />\r\n                        </Picker>\r\n                    </View>\r\n                    <Button label=\"ĐĂNG KÝ\" onPress={() => {\r\n                        if (this.state.pass === this.state.repass) {\r\n                            if (this.state.image !== avatar) {\r\n                                signUp(this.state.email, this.state.pass, this.state.repass, this.state.name, this.state.age, this.state.phone, this.state.gender);\r\n                            } else {\r\n                                alert(\"Vui lòng thay ảnh đại diện\");\r\n                            }\r\n                        } else {\r\n                            alert(\"Mật khẩu không trùng khớp\");\r\n                        }\r\n                    }} />\r\n                    <Text style={styles.text}>Đã có tài khoản?</Text>\r\n                    <Button label=\"ĐĂNG NHẬP\" style={styles.signup} onPress={() => this.props.navigation.navigate('Login')} />\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getPermissionAsync();\r\n    }\r\n\r\n    getPermissionAsync = async () => {\r\n        if (Constants.platform.ios) {\r\n            const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n            if (status !== 'granted') {\r\n                alert('Sorry, we need camera roll permissions to make this work!');\r\n            }\r\n        }\r\n    };\r\n\r\n    _pickImage = async () => {\r\n        try {\r\n            let result = await ImagePicker.launchImageLibraryAsync({\r\n                mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n                allowsEditing: true,\r\n                aspect: [1, 1],\r\n                quality: 1,\r\n            });\r\n            if (!result.cancelled) {\r\n                this.setState({ image: result });\r\n            }\r\n            console.log(result);\r\n        } catch (E) {\r\n            console.log(E);\r\n        }\r\n    };\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    avatarBtn: {\r\n        width: 100,\r\n        height: 120,\r\n        alignSelf: \"center\",\r\n        marginBottom: 40,\r\n    },\r\n    avatarImg: {\r\n        width: 100,\r\n        height: 100,\r\n        resizeMode: \"contain\",\r\n        alignSelf: \"center\"\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#FFF\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n    form: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        width: \"80%\",\r\n        marginTop: 0,\r\n    },\r\n    text: {\r\n        textAlign: \"center\",\r\n        marginTop: 20,\r\n        marginBottom: 10\r\n    },\r\n    signup: {\r\n        backgroundColor: \"#FFF\",\r\n        borderColor: \"#7444C0\",\r\n        color: \"#7444C0\",\r\n    },\r\n    picker: {\r\n        height: 40,\r\n        borderBottomWidth: StyleSheet.hairlineWidth,\r\n        marginBottom: 20,\r\n    },\r\n    avatar: {\r\n        backgroundColor: \"#FFF\",\r\n        borderColor: \"#7444C0\",\r\n        color: \"#7444C0\",\r\n    },\r\n});\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}