{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Project\\\\Staygether\\\\New folder\\\\containers\\\\Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"../components/Button\";\nimport FormTextInput from \"../components/FormTextInput\";\nimport logo from \"../assets/images/logo.png\";\nimport * as Facebook from 'expo-facebook';\nimport firebase from \"./firebase.js\";\nimport * as Font from 'expo-font';\nFacebook.initializeAsync('550967015812950', 'Staygether');\nvar customFonts = {\n  'tinderclone': require(\"../assets/fonts/tinderclone.ttf\")\n};\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.handleEmailSubmitPress = function () {\n      if (_this.FormTextInput.current) {\n        _this.FormTextInput.current.focus();\n      }\n    };\n\n    _this.logIn = function (email, pass) {\n      try {\n        firebase.auth().signInWithEmailAndPassword(email, pass).then(function () {\n          _this.props.navigation.navigate('Main');\n        }).catch(function (err) {\n          alert(err.message);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    _this.state = {\n      email: \"Tr@gmail.com\",\n      pass: \"123456\"\n    };\n    _this.FormTextInput = React.createRef();\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"_loadFontsAsync\",\n    value: function _loadFontsAsync() {\n      return _regeneratorRuntime.async(function _loadFontsAsync$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Font.loadAsync(customFonts));\n\n            case 2:\n              this.setState({\n                fontsLoaded: true\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._loadFontsAsync();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: logo,\n        style: styles.logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: styles.form,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }\n      }, React.createElement(FormTextInput, {\n        value: this.state.email,\n        onChangeText: function onChangeText(email) {\n          return _this2.setState({\n            email: email\n          });\n        },\n        value: this.state.email,\n        placeholder: \"Email\",\n        keyboardType: \"email-address\",\n        returnKeyType: \"next\",\n        onSubmitEditing: this.handleEmailSubmitPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      }), React.createElement(FormTextInput, {\n        ref: this.FormTextInput,\n        secureTextEntry: true,\n        value: this.state.password,\n        onChangeText: function onChangeText(pass) {\n          return _this2.setState({\n            pass: pass\n          });\n        },\n        value: this.state.pass,\n        placeholder: \"M\\u1EADt kh\\u1EA9u\",\n        returnKeyType: \"done\",\n        onSubmitEditing: function onSubmitEditing() {\n          return _this2.logIn(_this2.state.email, _this2.state.pass);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        label: \"\\u0110\\u0102NG NH\\u1EACP\",\n        onPress: function onPress() {\n          return _this2.logIn(_this2.state.email, _this2.state.pass);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }\n      }), React.createElement(Button, {\n        label: \"\\u0110\\u0102NG NH\\u1EACP V\\u1EDAI FACEBOOK\",\n        style: styles.fblogin,\n        onPress: function onPress() {\n          return _this2.logFB();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      }), React.createElement(Text, {\n        style: styles.text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, \"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\"), React.createElement(Button, {\n        label: \"\\u0110\\u0102NG K\\xDD\",\n        style: styles.signup,\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Signup');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      })));\n    }\n  }, {\n    key: \"logFB\",\n    value: function logFB() {\n      var _await$Facebook$logIn, type, token, check;\n\n      return _regeneratorRuntime.async(function logFB$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync('550967015812950', {\n                permissions: [\"public_profile\"]\n              }));\n\n            case 2:\n              _await$Facebook$logIn = _context2.sent;\n              type = _await$Facebook$logIn.type;\n              token = _await$Facebook$logIn.token;\n\n              if (type == 'success') {\n                check = firebase.auth().FacebookAuthProvider.credential(token);\n                firebase.auth().signInWithCredential(check).catch(function (err) {\n                  console.log(err);\n                });\n              }\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  logo: {\n    flex: 1,\n    width: \"60%\",\n    resizeMode: \"contain\",\n    alignSelf: \"center\"\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#FFF\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  form: {\n    flex: 1,\n    justifyContent: \"center\",\n    width: \"80%\"\n  },\n  fblogin: {\n    backgroundColor: \"#1778F2\"\n  },\n  signup: {\n    backgroundColor: \"#FFF\",\n    borderColor: \"#7444C0\",\n    color: \"#7444C0\"\n  },\n  text: {\n    textAlign: \"center\",\n    marginTop: 20,\n    marginBottom: 10\n  }\n});\nexport default Login;","map":{"version":3,"sources":["D:/Project/Staygether/New folder/containers/Login.js"],"names":["React","Button","FormTextInput","logo","Facebook","firebase","Font","initializeAsync","customFonts","require","Login","props","handleEmailSubmitPress","current","focus","logIn","email","pass","auth","signInWithEmailAndPassword","then","navigation","navigate","catch","err","alert","message","console","log","state","createRef","loadAsync","setState","fontsLoaded","_loadFontsAsync","styles","container","form","password","fblogin","logFB","text","signup","logInWithReadPermissionsAsync","permissions","type","token","check","FacebookAuthProvider","credential","signInWithCredential","Component","StyleSheet","create","flex","width","resizeMode","alignSelf","backgroundColor","alignItems","justifyContent","borderColor","color","textAlign","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Image, StyleSheet, View, Text, Alert } from 'react-native';\r\nimport Button from \"../components/Button\";\r\nimport FormTextInput from \"../components/FormTextInput\";\r\nimport logo from \"../assets/images/logo.png\";\r\nimport * as Facebook from 'expo-facebook'\r\nimport firebase from './firebase.js';\r\nimport * as Font from 'expo-font';\r\n\r\nFacebook.initializeAsync('550967015812950', 'Staygether')\r\n\r\nlet customFonts = {\r\n    'tinderclone': require('../assets/fonts/tinderclone.ttf'),\r\n};\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"Tr@gmail.com\",\r\n            pass: \"123456\",\r\n        };\r\n        this.FormTextInput = React.createRef();\r\n    }\r\n    async _loadFontsAsync() {\r\n        await Font.loadAsync(customFonts);\r\n        this.setState({ fontsLoaded: true });\r\n    }\r\n    componentDidMount() {\r\n        this._loadFontsAsync();\r\n    }\r\n    handleEmailSubmitPress = () => {\r\n        if (this.FormTextInput.current) {\r\n            this.FormTextInput.current.focus();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <View style={styles.container}>\r\n                <Image source={logo} style={styles.logo} />\r\n                <View style={styles.form}>\r\n                    <FormTextInput\r\n                        value={this.state.email}\r\n                        onChangeText={(email) => this.setState({ email })} value={this.state.email}\r\n                        placeholder=\"Email\"\r\n                        keyboardType=\"email-address\"\r\n                        returnKeyType=\"next\"\r\n                        onSubmitEditing={this.handleEmailSubmitPress}\r\n                    />\r\n                    <FormTextInput\r\n                        ref={this.FormTextInput}\r\n                        secureTextEntry={true}\r\n                        value={this.state.password}\r\n                        onChangeText={(pass) => this.setState({ pass })} value={this.state.pass}\r\n                        placeholder=\"Mật khẩu\"\r\n                        returnKeyType=\"done\"\r\n                        onSubmitEditing={() => this.logIn(this.state.email, this.state.pass)}\r\n                    />\r\n                    <Button label=\"ĐĂNG NHẬP\" onPress={() => this.logIn(this.state.email, this.state.pass)} />\r\n                    <Button label=\"ĐĂNG NHẬP VỚI FACEBOOK\" style={styles.fblogin} onPress={() => this.logFB()} />\r\n                    <Text style={styles.text}>Chưa có tài khoản?</Text>\r\n                    <Button label=\"ĐĂNG KÝ\" style={styles.signup} onPress={() => this.props.navigation.navigate('Signup')} />\r\n                </View>\r\n            </View>\r\n        );\r\n    }\r\n\r\n\r\n    logIn = (email, pass) => {\r\n        try {\r\n            firebase.auth().signInWithEmailAndPassword(email, pass).then(() => {\r\n                this.props.navigation.navigate('Main');\r\n            }).catch((err) => {\r\n                alert(err.message);\r\n            })\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    async logFB() {\r\n        const { type, token } = await Facebook.logInWithReadPermissionsAsync(\r\n            '550967015812950',\r\n            {\r\n                permissions: [\"public_profile\"]\r\n            }\r\n        );\r\n        if (type == 'success') {\r\n            const check = firebase.auth().FacebookAuthProvider.credential(token)\r\n            firebase.auth().signInWithCredential(check).catch((err) => {\r\n                console.log(err)\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    logo: {\r\n        flex: 1,\r\n        width: \"60%\",\r\n        resizeMode: \"contain\",\r\n        alignSelf: \"center\"\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#FFF\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n    form: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        width: \"80%\",\r\n    },\r\n    fblogin: {\r\n        backgroundColor: \"#1778F2\",\r\n    },\r\n    signup: {\r\n        backgroundColor: \"#FFF\",\r\n        borderColor: \"#7444C0\",\r\n        color: \"#7444C0\",\r\n    },\r\n    text: {\r\n        textAlign: \"center\",\r\n        marginTop: 20,\r\n        marginBottom: 10\r\n    }\r\n});\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}